<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Аренда уютных апартаментов в Москве и Московской области с хорошим ремонтом и развитой инфраструктурой.">
  <meta name="keywords" content="апартаменты, аренда, Москва, посуточно, OneBed">
  <title>OneBed — Уютные апартаменты</title>
  <link href="https://fonts.cdnfonts.com/css/bauhaus-93" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>
  <style>
    :root {
      --primary: #FF5A5F;
      --secondary: #008489;
      --bg: #F7F7F7;
      --card-bg: #FFFFFF;
      --text: #222222;
      --text-light: #717171;
      --dark: #1a1a1a;
    }
    
    /* Прелоадер */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-out;
    }
    
    .logo-emblem {
      font-family: 'Bauhaus 93', 'Arial Black', sans-serif;
      font-size: 120px;
      font-weight: bold;
      color: #FF0000;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      animation: fadeInLogo 2s ease-in-out forwards;
    }
    
    .logo-text {
      font-family: 'Inter', sans-serif;
      font-size: 36px;
      font-weight: 700;
      color: var(--text);
      opacity: 0;
      animation: fadeInText 1.5s ease-in-out 1s forwards;
    }
    
    @keyframes fadeInLogo {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes fadeInText {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    /* Навигация */
    .navbar {
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    
    .logo-emblem-small {
      font-family: 'Bauhaus 93', sans-serif;
      font-size: 1.8rem;
      margin-right: 8px;
    }
    
    .nav-links {
      display: flex;
      gap: 25px;
    }
    
    .nav-link {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .nav-link:hover {
      color: var(--primary);
    }

    /* Герой */
    .hero {
      position: relative;
      height: 80vh;
      min-height: 600px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.4);
      z-index: 1;
    }
    
    .hero-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      padding: 0 20px;
    }
    
    .hero-title {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 20px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .hero-subtitle {
      font-size: 1.5rem;
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .hero-btn {
      display: inline-block;
      padding: 15px 30px;
      background: var(--primary);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1.1rem;
      transition: all 0.3s;
      margin-bottom: 15px;
    }
    
    .hero-btn:hover {
      background: #E04A50;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(255, 90, 95, 0.4);
    }

    /* Кнопка связи в герое */
    .contact-dropdown {
      position: relative;
      display: inline-block;
    }
    
    .contact-dropdown-btn {
      display: inline-block;
      padding: 15px 30px;
      background: white;
      color: var(--primary);
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1.1rem;
      transition: all 0.3s;
      border: 2px solid var(--primary);
      cursor: pointer;
    }
    
    .contact-dropdown-btn:hover {
      background: #f8f8f8;
    }
    
    .contact-dropdown-content {
      display: none;
      position: absolute;
      background-color: white;
      min-width: 200px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      border-radius: 8px;
      z-index: 1;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 0;
    }
    
    .contact-dropdown:hover .contact-dropdown-content {
      display: block;
    }
    
    .contact-dropdown-link {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: var(--text);
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .contact-dropdown-link:hover {
      background-color: var(--bg);
      color: var(--primary);
    }
    
    .contact-dropdown-link svg {
      margin-right: 10px;
      width: 20px;
      height: 20px;
    }

    /* Основной контент */
    .container {
      max-width: 1200px;
      margin: 50px auto;
      padding: 0 20px;
    }
    
    .section {
      padding: 80px 0;
    }
    
    .section-title {
      font-size: 2.5rem;
      margin-bottom: 30px;
      text-align: center;
      color: var(--dark);
    }
    
    .section-subtitle {
      font-size: 1.2rem;
      text-align: center;
      color: var(--text-light);
      margin-bottom: 50px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Обновлённые стили карточек */
    .apartments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }
    
    .card {
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.12);
    }
    
    .apartment-img-container {
      height: 250px;
      overflow: hidden;
    }
    
    .apartment-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s;
      cursor: pointer;
    }
    
    .card:hover .apartment-img {
      transform: scale(1.05);
    }
    
    .apartment-info {
      padding: 25px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .apartment-title {
      font-size: 1.4rem;
      margin-bottom: 10px;
      color: var(--dark);
      /* Исправленный line-clamp с поддержкой разных браузеров */
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      display: -moz-box;
      -moz-box-orient: vertical;
      line-clamp: 2;
      overflow: hidden;
    }
    
    .apartment-location {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      color: var(--text-light);
      font-size: 0.95rem;
      /* Исправленный line-clamp с поддержкой разных браузеров */
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      display: -moz-box;
      -moz-box-orient: vertical;
      line-clamp: 2;
      overflow: hidden;
    }
    
    .apartment-location svg {
      margin-right: 5px;
    }
    
    .apartment-features {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .feature {
      display: flex;
      align-items: center;
      font-size: 0.9rem;
      color: var(--text-light);
    }
    
    .feature svg {
      margin-right: 5px;
    }
    
    .book-btn-container {
      margin-top: auto;
      padding-top: 15px;
    }
    
    .book-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 12px;
      background: var(--primary);
      color: white;
      text-align: center;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .book-btn:hover {
      background: #E04A50;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 90, 95, 0.3);
    }
    
    .book-btn svg {
      margin-left: 8px;
    }

    /* Кнопка "Показать еще" */
    .load-more-container {
      text-align: center;
      margin: 30px 0;
    }
    
    .load-more-btn {
      padding: 12px 30px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .load-more-btn:hover {
      background: #E04A50;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 90, 95, 0.3);
    }

    /* Секция "О нас" */
    .about-section {
      background: white;
      padding: 60px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .about-content {
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.8;
    }

    /* Секция сотрудничества */
    .cooperation-section {
      background: white;
      padding: 60px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      margin: 40px 0;
    }
    
    .service-tabs {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .service-tab {
      padding: 12px 25px;
      background: #f5f5f5;
      border-radius: 30px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .service-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .service-content {
      display: none;
    }
    
    .service-content.active {
      display: block;
    }
    
    .service-card {
      background: var(--bg);
      border-radius: 10px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }
    
    .service-card h3 {
      color: var(--primary);
      margin-top: 0;
    }
    
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin: 30px 0;
    }
    
    .benefit-card {
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
      border-top: 4px solid var(--primary);
      transition: transform 0.3s;
    }
    
    .benefit-card:hover {
      transform: translateY(-5px);
    }
    
    .benefit-card h4 {
      display: flex;
      align-items: center;
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 15px;
    }
    
    .benefit-card svg {
      margin-right: 10px;
      width: 24px;
      height: 24px;
    }
    
    .faq-item {
      margin-bottom: 25px;
      border-bottom: 1px solid #eee;
      padding-bottom: 20px;
    }
    
    .faq-question {
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--text);
      margin-bottom: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .faq-answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin: 40px 0;
    }
    
    .stat-item {
      text-align: center;
      padding: 20px;
      background: var(--bg);
      border-radius: 8px;
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 5px;
    }
    
    .cta-box {
      background: linear-gradient(135deg, var(--primary), #FF8A8D);
      color: white;
      padding: 40px;
      border-radius: 12px;
      text-align: center;
      margin-top: 50px;
    }

    /* Контакты */
    .contacts-section {
      background: white;
      padding: 60px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .contacts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }
    
    .contact-card {
      padding: 25px;
      background: var(--bg);
      border-radius: 10px;
    }
    
    .contact-card h3 {
      color: var(--primary);
      margin-top: 0;
    }

    /* Модальное окно галереи */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      justify-content: center;
      align-items: center;
      overflow: hidden;
      z-index: 1000;
    }
    
    .modal.show {
      display: flex;
    }
    
    .modal-content {
      position: relative;
      text-align: center;
    }
    
    .modal-img {
      max-width: 90vw;
      max-height: 90vh;
      transition: transform 0.3s ease;
      cursor: zoom-in;
    }
    
    .modal-img.grabbing {
      cursor: grabbing;
    }
    
    .close-btn {
      position: absolute;
      top: 20px;
      right: 30px;
      color: white;
      font-size: 30px;
      cursor: pointer;
      z-index: 1001;
    }

    .arrow {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #fff;
      background: rgba(0,0,0,0.5);
      border: none;
      padding: 10px;
      cursor: pointer;
      z-index: 1001;
    }
    
    .arrow.left { left: 20px; }
    .arrow.right { right: 20px; }

    /* Адаптивность */
    @media (max-width: 768px) {
      .hero {
        height: 70vh;
        min-height: 500px;
      }
      
      .hero-title {
        font-size: 2.2rem;
      }
      
      .hero-subtitle {
        font-size: 1.2rem;
      }
      
      .apartments-grid {
        grid-template-columns: 1fr;
      }
      
      .nav-container {
        flex-direction: column;
        gap: 15px;
      }
      
      .nav-links {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .benefits-grid {
        grid-template-columns: 1fr;
      }
      
      .logo-emblem {
        font-size: 80px;
      }
      
      .logo-text {
        font-size: 24px;
      }
      
      .cooperation-section,
      .about-section,
      .contacts-section {
        padding: 30px 20px;
      }
      
      /* Исправление для кнопок связи в мобильной версии */
      .contact-dropdown-btn {
        padding: 12px 20px;
        font-size: 1rem;
      }
      
      .contact-dropdown-content {
        min-width: 180px;
        left: 0;
        transform: none;
      }
      
      .hero-btn {
        padding: 12px 20px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Прелоадер -->
  <div class="preloader" id="preloader">
    <div class="logo-emblem">1b</div>
    <div class="logo-text">OneBed</div>
  </div>

  <!-- Навигация -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo" onclick="scrollToTop(event)">
        <span class="logo-emblem-small">1b</span>
        <span class="logo-text">OneBed</span>
      </a>
      <div class="nav-links">
        <a href="#apartments" class="nav-link">Апартаменты</a>
        <a href="#about" class="nav-link">О нас</a>
        <a href="#cooperation" class="nav-link">Сотрудничество</a>
        <a href="#contacts" class="nav-link">Контакты</a>
      </div>
    </div>
  </nav>

  <!-- Герой -->
  <section class="hero">
    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80" alt="Интерьер уютных апартаментов в Москве" class="hero-image" loading="lazy">
    <div class="hero-content">
      <h1 class="hero-title">Уютные апартаменты для вашего комфорта</h1>
      <p class="hero-subtitle">Жилье с хорошим ремонтом в лучших районах Москвы</p>
      <a href="#apartments" class="hero-btn">Выбрать апартаменты</a>
      
      <div class="contact-dropdown">
        <button class="contact-dropdown-btn">Связь для прямой брони</button>
        <div class="contact-dropdown-content">
          <a href="https://wa.me/79777914777?text=Здравствуйте,%20мне%20нужны%20апартаменты" class="contact-dropdown-link" target="_blank">
            <svg viewBox="0 0 24 24" fill="#25D366">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-6.29-3.43c.173.246.5.512.7.585.198.074.397.037.545-.111.149-.15.574-.562.723-.746.149-.186.298-.223.496-.112.198.111 1.262.744 1.48.881.218.136.436.204.496.336.062.131.025.744-.322 1.477-.347.733-.694.855-.892.855-.198 0-.397-.037-.57-.186-.173-.149-.744-.56-1.486-.56-.744 0-1.262.17-1.707.335-.733.26-1.315.39-1.263.854.025.248.148.397.421.644.273.248 1.042.966 1.213 1.164.174.198.347.595.793.446.446-.15 1.906-.788 2.157-1.045.248-.26.496-.735.57-.882.074-.149.05-.272-.025-.372-.075-.099-.446-.558-.62-.76-.173-.203-.297-.335-.446-.558-.149-.223-.012-.422.111-.558.124-.136.297-.347.446-.52.149-.175.198-.298.298-.5.099-.198.05-.37-.025-.52-.074-.148-.669-1.61-.915-2.206-.24-.579-.485-.5-.668-.51h-.57c-.198 0-.52.074-.793.372-.272.298-1.04 1.016-1.04 2.48 0 1.46 1.065 2.873 1.213 3.072z"/>
            </svg>
            WhatsApp
          </a>
          <a href="https://t.me/OneBed1" class="contact-dropdown-link" target="_blank">
            <svg viewBox="0 0 24 24" fill="#0088cc">
              <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/>
            </svg>
            Telegram
          </a>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
    <!-- Апартаменты -->
    <section id="apartments" class="section">
      <h2 class="section-title">Наши апартаменты</h2>
      <p class="section-subtitle">49 уникальных объектов в Москве и Московской области</p>
      <div class="apartments-grid" id="apartmentsContainer">
        <!-- Карточки генерируются через JS -->
      </div>
      <div class="load-more-container">
        <button class="load-more-btn" id="loadMoreBtn">Показать еще</button>
      </div>
    </section>

    <!-- О нас -->
    <section id="about" class="section">
      <div class="about-section">
        <h2 class="section-title">О нас</h2>
        <div class="about-content">
          <p>OneBed — это сервис по аренде апартаментов посуточно в Москве и Московской области. Мы предлагаем комфортное жильё с современным ремонтом и всем необходимым для вашего проживания.</p>
          <p>Наши апартаменты расположены в новых жилых комплексах с развитой инфраструктурой. Мы тщательно следим за чистотой и качеством обслуживания.</p>
        </div>
      </div>
    </section>

    <!-- Сотрудничество -->
    <section id="cooperation" class="section">
      <div class="cooperation-section">
        <h2 class="section-title">Сотрудничество</h2>
        
        <div class="service-tabs">
          <div class="service-tab active" onclick="showService('management')">Управление</div>
          <div class="service-tab" onclick="showService('subrent')">Субаренда</div>
        </div>
        
        <!-- Управление -->
        <div id="management" class="service-content active">
          <div class="benefits-grid">
            <div class="benefit-card">
              <h4>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Полное сопровождение
              </h4>
              <p>Вы отдыхаете, а мы занимаемся всем: от поиска гостей до решения бытовых вопросов</p>
            </div>
            
            <div class="benefit-card">
              <h4>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Профессиональная уборка
              </h4>
              <p>Тщательная уборка после каждого гостя, генеральная уборка каждые две недели</p>
            </div>
            
            <div class="benefit-card">
              <h4>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
                Контроль состояния
              </h4>
              <p>Регулярные проверки и поддержание объекта в идеальном состоянии</p>
            </div>
            
            <div class="benefit-card">
              <h4>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <line x1="12" y1="1" x2="12" y2="23"></line>
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                Финансовая отчетность
              </h4>
              <p>Детализированные ежемесячные отчеты о доходах и расходах</p>
            </div>
          </div>
          
          <h3 class="section-subtitle">Как мы работаем</h3>
          <ul>
            <li>Размещение на всех популярных площадках бронирования</li>
            <li>Фильтрация гостей и проверка репутации</li>
            <li>Организация прачечных услуг и химчистки</li>
            <li>Мелкий и крупный ремонт силами проверенных подрядчиков</li>
            <li>Официальный договор и юридическое сопровождение</li>
          </ul>
        </div>
        
        <!-- Субаренда -->
        <div id="subrent" class="service-content">
          <div class="service-card">
            <h3>Субаренда (фиксированная стоимость)</h3>
            <ul>
              <li>Организация необходимого ремонта перед запуском</li>
              <li>Полный контроль эксплуатации объекта</li>
              <li>Гарантия возврата квартиры в исходном состоянии</li>
              <li>Фиксированный доход собственника, независимый от сезона</li>
              <li>Контроль состояния объекта после каждого гостя</li>
              <li>Тщательная уборка после каждого проживания</li>
              <li>Генеральная уборка каждые две недели</li>
            </ul>
          </div>
        </div>
        
        <!-- FAQ -->
        <div class="faq-section">
          <h3 class="section-subtitle">Частые вопросы</h3>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleAnswer(this)">
              <span>Если мою квартиру испортят?</span>
              <span>+</span>
            </div>
            <div class="faq-answer">
              <p>95% квартир при посуточной аренде выглядят лучше, чем при долгосрочной. Мы проводим тщательную уборку после каждого гостя и генеральную уборку каждые две недели. Также мы берем депозит с гостей и рекомендуем страховку квартиры.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleAnswer(this)">
              <span>Как много времени потребуется от меня?</span>
              <span>+</span>
            </div>
            <div class="faq-answer">
              <p>При полном управлении - всего 1-2 часа в месяц на проверку отчетов. Все остальные заботы мы берем на себя.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleAnswer(this)">
              <span>Почему нам можно доверять?</span>
              <span>+</span>
            </div>
            <div class="faq-answer">
              <p>Мы на рынке с 2019 года, подготовили более 100 объектов, имеем рейтинг 5+ на международных площадках. Работаем по официальному договору и предоставляем детализированные отчеты.</p>
            </div>
          </div>
        </div>
        
        <!-- CTA -->
        <div class="cta-box">
          <h3>Готовы увеличить доход от вашей недвижимости?</h3>
          <p>Оставьте заявку и мы подберем оптимальное решение для вашего объекта</p>
          <button class="book-btn" style="max-width: 300px; margin: 20px auto;" onclick="window.location.href='mailto:Onebed@yandex.ru?subject=Заявка на сотрудничество'">
            Оставить заявку
          </button>
        </div>
      </div>
    </section>

    <!-- Контакты -->
    <section id="contacts" class="section">
      <div class="contacts-section">
        <h2 class="section-title">Контакты</h2>
        <div class="contacts-grid">
          <div class="contact-card">
            <h3>Телефон</h3>
            <p><a href="tel:+79777914777">+7 (977) 791-47-77</a></p>
          </div>
          <div class="contact-card">
            <h3>Для собственников</h3>
            <p><a href="mailto:Onebed@yandex.ru">Onebed@yandex.ru</a></p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Модальное окно галереи -->
  <div class="modal" id="galleryModal">
    <button class="arrow left" id="prevBtn">←</button>
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">×</span>
      <img id="modalImage" class="modal-img" src="" alt="Фотография апартаментов">
    </div>
    <button class="arrow right" id="nextBtn">→</button>
  </div>

  <script>
    // Скрытие прелоадера
    window.addEventListener('load', function() {
      setTimeout(function() {
        const preloader = document.getElementById('preloader');
        preloader.style.opacity = '0';
        setTimeout(function() {
          preloader.style.display = 'none';
        }, 500);
      }, 2500);
    });

    // Прокрутка наверх при клике на логотип
    function scrollToTop(e) {
      e.preventDefault();
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Генератор путей к изображениям
    function generateImagePaths(apartmentNum, numbers) {
      const paths = [`images/apartment${apartmentNum}/preview.jpg`];
      numbers.forEach(num => {
        paths.push(`images/apartment${apartmentNum}/${num < 10 ? '0' + num : num}.jpg`);
      });
      return paths;
    }

    // Данные апартаментов (49 объектов)
    const apartments = [
      {
        id: 1,
        title: "П. Пойма | Евродвушка",
        address: "Красногорский бульвар 18, Подъезд 6",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(1, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),
        guests: 4,
        beds: 2
      },
      {
        id: 2,
        title: "П. Пойма 1-комнатная квартира",
        address: "Зверева 4, Подъезд 7",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(2, [2,3,4,5,6,7,8,9,10,11,12,13]),
        guests: 2,
        beds: 1
      },
      {
        id: 3,
        title: "П. Пойма 3-комнатная",
        address: "Подмосковный бульвар 12, Подъезд 3",
        district: "СЗАО",
        type: "3-комнатная",
        images: generateImagePaths(3, [2,3,4,5,6,7,8,9,10,11,12,13,14,15]),
        guests: 5,
        beds: 3
      },
      {
        id: 4,
        title: "П. Пойма 1-комнатная",
        address: "Красногорский бульвар 46, Подъезд 4",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(4, [2,3,4,5,6,7,8,9,10,11,12,13,14,15]),
        guests: 2,
        beds: 1
      },
      {
        id: 5,
        title: "П. Пойма 2-комнатная",
        address: "Зверева 6, Подъезд 7",
        district: "САО",
        type: "2-комнатная",
        images: generateImagePaths(5, [2,3,4,5,6,7,8,9,10,11,12,13]),
        guests: 3,
        beds: 2
      },
      {
        id: 6,
        title: "П. Пойма 1-комнатная квартира",
        address: "Игната Титова 7, Подъезд 2",
        district: "ЮАО",
        type: "1-комнатная",
        images: generateImagePaths(6, [2,3,4,5,6,7,8,9,10,11,12]),
        guests: 2,
        beds: 1
      },
      {
        id: 7,
        title: "М. Крылатское | 2-комнатная",
        address: "Осенний бульвар 7к2, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(7, [2,3,4,5,6,7,8,9,10,11,12,13]),
        guests: 4,
        beds: 2
      },
      {
        id: 8,
        title: "П. Пойма | Студия",
        address: "Молодежная ул. 3 (МЦД Пенягино), Подъезд 1",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(8, [2,3,4,5,6,7,8,9,10,11,12,13]),
        guests: 2,
        beds: 1
      },
      {
        id: 9,
        title: "П. Пойма 2-комнатная",
        address: "Красногорский бульвар 46, Подъезд 4",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(9, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),
        guests: 4,
        beds: 2
      },
      {
        id: 10,
        title: "М. Калитники | 2-комнатная",
        address: "Нижегородская ул. 76к1, Подъезд 1",
        district: "ЮАО",
        type: "2-комнатная",
        images: generateImagePaths(10, [2,3,4,5,6,7,8,9,10]),
        guests: 3,
        beds: 2
      },
      {
        id: 11,
        title: "П. Пойма 2-комнатная",
        address: "Красногорский бульвар 26, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(11, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),
        guests: 4,
        beds: 2
      },
      {
        id: 12,
        title: "П. Пойма 1-комнатная",
        address: "Красногорский бульвар 46, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(12, [2,3,4,5,6,7,8,9,10,11]),
        guests: 2,
        beds: 1
      },
      {
        id: 13,
        title: "П. Пойма 1-комнатная",
        address: "Красногорский бульвар 23к1, Подъезд 2",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(13, [2,3,4,5,6,7,8,9,10,11,12,13]),
        guests: 2,
        beds: 1
      },
      {
        id: 14,
        title: "П. Пойма | Евродвушка",
        address: "Подмосковный бульвар 10, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(14, [2,3,4,5,6,7,8,9,10,11]),
        guests: 4,
        beds: 2
      },
      {
        id: 15,
        title: "П. Пойма | Студия",
        address: "Павшинский бульвар 18, Подъезд 2",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(15, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 16,
        title: "П. Пойма 1-комнатная квартира",
        address: "Красногорский бульвар 34, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(16, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),
        guests: 2,
        beds: 1
      },
      {
        id: 17,
        title: "м. Строгино 1-комнатная квартира",
        address: "Таллинская 26, Подъезд 2",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(17, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),
        guests: 2,
        beds: 1
      },
      {
        id: 18,
        title: "м. Строгино 1-комнатная квартира",
        address: "Строгинский бульвар 17 к1, Подъезд 13",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(18, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),
        guests: 2,
        beds: 1
      },
      {
        id: 19,
        title: "П. Пойма 2-комнатная квартира",
        address: "Красногорский бульвар 32, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(19, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),
        guests: 4,
        beds: 2
      },
      {
        id: 20,
        title: "м. Строгино 2-комнатная квартира",
        address: "Улица Твардовского 13 к2, Подъезд 2",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(20, [2,3,4,5,6,7,8,9,10,11,12,13,14]),
        guests: 4,
        beds: 2
      },
      {
        id: 21,
        title: "П. Пойма 3-комнатная квартира",
        address: "Красногорский бульвар 14, Подъезд 2",
        district: "СЗАО",
        type: "3-комнатная",
        images: generateImagePaths(21, [2,3,4,5,6,7,8,9,10,11]),
        guests: 5,
        beds: 3
      },
      {
        id: 22,
        title: "П. Пойма Евродвушка",
        address: "Красногорский бульвар 17, Подъезд 5",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(22, [2,3,4,5,6,7,8,9,10,11,12,13,14]),
        guests: 4,
        beds: 2
      },
      {
        id: 23,
        title: "М.Смоленская – 2-комнатная",
        address: "Плющиха 9а, Подъезд 4",
        district: "Центр",
        type: "2-комнатная",
        images: generateImagePaths(23, [2,3,4,5,6]),
        guests: 3,
        beds: 2
      },
      {
        id: 24,
        title: "П. Пойма 3-комнатная квартира",
        address: "Красногорский бульвар 18, Подъезд 2",
        district: "СЗАО",
        type: "3-комнатная",
        images: generateImagePaths(24, [2,3,4,5,6,7,8,9]),
        guests: 5,
        beds: 3
      },
      {
        id: 25,
        title: "М. Молодежная 2-комнатная квартира",
        address: "Ельнинская 12 к2, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(25, [2,3,4,5,6,7,8,9,10,11,12,13,14,15]),
        guests: 4,
        beds: 2
      },
      {
        id: 26,
        title: "П. Пойма 2-комнатная квартира",
        address: "Павшинский бульвар 1, Подъезд 6",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(26, [2,3,4,5,6,7,8,9,10,11,12,13,14,15]),
        guests: 4,
        beds: 2
      },
      {
        id: 27,
        title: "П. Пойма студия",
        address: "Мякинино парк квартал 100, дом 1 к1, Подъезд 5",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(27, [2,3,4,5,6,7,8]),
        guests: 2,
        beds: 1
      },
      {
        id: 28,
        title: "м. Строгино 2-комнатная квартира",
        address: "Липовой Рощи 6к2, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(28, [2,3,4,5,6,7,8,9,10]),
        guests: 4,
        beds: 2
      },
      {
        id: 29,
        title: "П. Пойма 2-комнатная квартира",
        address: "Красногорский бульвар 23 к3, Подъезд 2",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(29, [2,3,4,5,6,7,8,9,10,11,12]),
        guests: 4,
        beds: 2
      },
      {
        id: 30,
        title: "П. Пойма 1-комнатная квартира",
        address: "Спасская 1 к2, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(30, [2,3,4,5,6,7,8,9,10,11,12]),
        guests: 2,
        beds: 1
      },
      {
        id: 31,
        title: "Малая Филёвская/метро Пионерская 1-комнатная квартира",
        address: "Малая Филевская 14 к2, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(31, [2,3,4,5,6,7,8,9,10,11]),
        guests: 2,
        beds: 1
      },
      {
        id: 32,
        title: "Академика Павлова/метро Крылатское, Студия",
        address: "ул. Академика Павлова 56 к 1, Подъезд 1",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(32, [2,3,4,5,6,7,8,9,10,11,12]),
        guests: 2,
        beds: 1
      },
      {
        id: 33,
        title: "М. Молодежная 1-комнатная квартира",
        address: "ул. Бобруйская, дом 20, Подъезд 8",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(33, [2,3,4,5,6,7,8]),
        guests: 2,
        beds: 1
      },
      {
        id: 34,
        title: "М. Славянский бульвар 1-комнатная квартира",
        address: "Ул. Славянский бульвар, д. 15, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(34, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 35,
        title: "М.Кутузовская 3-x комнатная квартира",
        address: "Кутузовский проспект 33, Подъезд 6",
        district: "Центр",
        type: "3-комнатная",
        images: generateImagePaths(35, [2,3,4,5,6,7,8,9,10,11,12,13,14]),
        guests: 6,
        beds: 3
      },
      {
        id: 36,
        title: "м. Смоленская 3-х комнатная квартира",
        address: "Улица Плющиха, д.13",
        district: "Центр",
        type: "3-комнатная",
        images: generateImagePaths(36, [2,3,4,5,6,7,8,9,10]),
        guests: 5,
        beds: 3
      },
      {
        id: 37,
        title: "П. Пойма 1-комнатная квартира",
        address: "Красногорский бульвар, д. 36, Подъезд 2",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(37, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 38,
        title: "М. Митино – 1-комнатная квартира",
        address: "Ул. Центральная, д.19, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(38, [2,3,4,5,6,7,8,9,10]),
        guests: 2,
        beds: 1
      },
      {
        id: 39,
        title: "М. Славянский бульвар 1-комнатная квартира",
        address: "Ул. Давыдковская, д.2 к7, Подъезд 4",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(39, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 40,
        title: "М. Митино – 1-комнатная квартира",
        address: "Ул. Барышиха, д.21, Подъезд 3",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(40, [2,3,4,5,6,7,8,9,10]),
        guests: 2,
        beds: 1
      },
      {
        id: 41,
        title: "М. Молодежная 2-комнатная квартира",
        address: "Ул. Ярцевская, д. 9, Подъезд 1",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(41, [2,3,4,5,6,7,8]),
        guests: 3,
        beds: 2
      },
      {
        id: 42,
        title: "М. Славянский бульвар 2-комнатная квартира",
        address: "Кастанаевская 55к1, Подъезд 5",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(42, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),
        guests: 4,
        beds: 2
      },
      {
        id: 43,
        title: "М. Молодежная 2-комнатная квартира",
        address: "Ярцевская 25, Подъезд 4",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(43, [2,3,4,5,6,7,8,9]),
        guests: 4,
        beds: 2
      },
      {
        id: 44,
        title: "М. Молодежная 1-комнатная квартира",
        address: "улица ярцевская 25, Подъезд 1",
        district: "СЗАО",
        type: "1-комнатная",
        images: generateImagePaths(44, [2,3,4,5,6,7]),
        guests: 2,
        beds: 1
      },
      {
        id: 45,
        title: "Сити-Бэй",
        address: "ш Волоколамское д 95/2 корпус 7",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(45, [2,3,4,5,6,7,8,9,10,11,12]),
        guests: 2,
        beds: 1
      },
      {
        id: 46,
        title: "П. Пойма студия",
        address: "МЦД Пенягино Молодежная ул, д. 3, Подъезд 1",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(46, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 47,
        title: "П. Пойма 2-комнатная квартира",
        address: "Красногорский бульвар 14, Подъезд 5",
        district: "СЗАО",
        type: "2-комнатная",
        images: generateImagePaths(47, [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),
        guests: 4,
        beds: 2
      },
      {
        id: 48,
        title: "П. Пойма студия",
        address: "Красногорский бульвар 23 к3, Подъезд 2",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(48, [2,3,4,5,6,7,8,9]),
        guests: 2,
        beds: 1
      },
      {
        id: 49,
        title: "П. Пойма студия",
        address: "Красногорский бульвар 23 к3, Подъезд 2",
        district: "СЗАО",
        type: "Студия",
        images: generateImagePaths(49, [2,3,4,5,6,7,8]),
        guests: 2,
        beds: 1
      }
    ];

    // Переменные для пагинации
    let currentPage = 1;
    const apartmentsPerPage = 6;
    let totalPages = Math.ceil(apartments.length / apartmentsPerPage);

    // Инициализация галереи с пагинацией
    function initGallery() {
      const container = document.getElementById('apartmentsContainer');
      container.innerHTML = ''; // Очищаем контейнер
      
      // Получаем апартаменты для текущей страницы
      const startIndex = (currentPage - 1) * apartmentsPerPage;
      const endIndex = startIndex + apartmentsPerPage;
      const apartmentsToShow = apartments.slice(startIndex, endIndex);
      
      // Создаем карточки для текущей страницы
      apartmentsToShow.forEach(apartment => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="apartment-img-container">
            <img src="${apartment.images[0]}" class="apartment-img" alt="Фотография апартаментов ${apartment.title}" loading="lazy">
          </div>
          <div class="apartment-info">
            <h3 class="apartment-title">${apartment.title}</h3>
            <div class="apartment-location">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              ${apartment.address}
            </div>
            <div class="apartment-features">
              <div class="feature">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M3 11l19-9-9 19-2-8-8-2z"></path>
                </svg>
                ${apartment.district}
              </div>
              <div class="feature">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                </svg>
                ${apartment.type}
              </div>
            </div>
            <div class="book-btn-container">
              <button class="book-btn" onclick="window.open('https://reservationsteps.ru/rooms/index/f1e7bb98-c97d-4b70-aa25-9c746e60a635?token=bdd98&dfrom=03-05-2025&dto=04-05-2025&lang=ru&utm_source=share_from_pms', '_blank')">
                Забронировать
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M5 12h14M12 5l7 7-7 7"></path>
                </svg>
              </button>
            </div>
          </div>
        `;
        
        card.querySelector('.apartment-img').addEventListener('click', () => openGallery(apartment));
        container.appendChild(card);
      });
      
      // Обновляем состояние кнопки "Показать еще"
      updateLoadMoreButton();
    }

    // Функция для обновления состояния кнопки "Показать еще"
    function updateLoadMoreButton() {
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (currentPage >= totalPages) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'inline-block';
      }
    }

    // Функция для загрузки следующей страницы
    function loadMoreApartments() {
      currentPage++;
      const container = document.getElementById('apartmentsContainer');
      
      // Получаем апартаменты для следующей страницы
      const startIndex = (currentPage - 1) * apartmentsPerPage;
      const endIndex = startIndex + apartmentsPerPage;
      const apartmentsToShow = apartments.slice(startIndex, endIndex);
      
      // Добавляем новые карточки
      apartmentsToShow.forEach(apartment => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="apartment-img-container">
            <img src="${apartment.images[0]}" class="apartment-img" alt="Фотография апартаментов ${apartment.title}" loading="lazy">
          </div>
          <div class="apartment-info">
            <h3 class="apartment-title">${apartment.title}</h3>
            <div class="apartment-location">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              ${apartment.address}
            </div>
            <div class="apartment-features">
              <div class="feature">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M3 11l19-9-9 19-2-8-8-2z"></path>
                </svg>
                ${apartment.district}
              </div>
              <div class="feature">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                </svg>
                ${apartment.type}
              </div>
            </div>
            <div class="book-btn-container">
              <button class="book-btn" onclick="window.open('https://reservationsteps.ru/rooms/index/f1e7bb98-c97d-4b70-aa25-9c746e60a635?token=bdd98&dfrom=03-05-2025&dto=04-05-2025&lang=ru&utm_source=share_from_pms', '_blank')">
                Забронировать
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M5 12h14M12 5l7 7-7 7"></path>
                </svg>
              </button>
            </div>
          </div>
        `;
        
        card.querySelector('.apartment-img').addEventListener('click', () => openGallery(apartment));
        container.appendChild(card);
      });
      
      // Прокручиваем к последней загруженной карточке
      const cards = container.querySelectorAll('.card');
      if (cards.length > 0) {
        cards[cards.length - 1].scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
      
      // Обновляем состояние кнопки "Показать еще"
      updateLoadMoreButton();
    }

    // Функции для вкладок и FAQ
    function showService(serviceId) {
      document.querySelectorAll('.service-content').forEach(content => {
        content.classList.remove('active');
      });
      document.querySelectorAll('.service-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.getElementById(serviceId).classList.add('active');
      document.querySelector(`.service-tab[onclick="showService('${serviceId}')"]`).classList.add('active');
    }
    
    function toggleAnswer(question) {
      const answer = question.nextElementSibling;
      const plus = question.querySelector('span:last-child');
      
      if (answer.style.maxHeight) {
        answer.style.maxHeight = null;
        plus.textContent = '+';
      } else {
        answer.style.maxHeight = answer.scrollHeight + 'px';
        plus.textContent = '-';
      }
    }

    // Галерея
    let currentApartment = null;
    let currentImageIndex = 0;
    let zoomed = false;
    let offsetX = 0, offsetY = 0, startX, startY;

    function openGallery(apartment) {
      currentApartment = apartment;
      currentImageIndex = 0;
      zoomed = false;
      updateModalImage();
      document.getElementById('galleryModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      document.getElementById('galleryModal').classList.remove('show');
      document.body.style.overflow = 'auto';
    }

    function updateModalImage() {
      const modalImg = document.getElementById('modalImage');
      modalImg.src = currentApartment.images[currentImageIndex];
      modalImg.style.transform = 'scale(1) translate(0,0)';
      modalImg.style.cursor = 'zoom-in';
      zoomed = false;
    }

    function toggleZoom(e) {
      e.stopPropagation();
      const modalImg = document.getElementById('modalImage');
      const r = modalImg.getBoundingClientRect();
      const x = e.clientX - r.left, y = e.clientY - r.top;
      
      if (!zoomed) {
        offsetX = -(x - r.width/2);
        offsetY = -(y - r.height/2);
        modalImg.style.transform = `scale(2) translate(${offsetX}px,${offsetY}px)`;
        modalImg.style.cursor = 'grab';
        zoomed = true;
      } else {
        modalImg.style.transform = 'scale(1) translate(0,0)';
        modalImg.style.cursor = 'zoom-in';
        zoomed = false;
      }
    }

    function nextImage() {
      if (currentImageIndex < currentApartment.images.length - 1) {
        currentImageIndex++;
        updateModalImage();
      }
    }

    function prevImage() {
      if (currentImageIndex > 0) {
        currentImageIndex--;
        updateModalImage();
      }
    }

    document.getElementById('modalImage').addEventListener('mousedown', function(e) {
      if (!zoomed) return;
      startX = e.clientX;
      startY = e.clientY;
      this.style.cursor = 'grabbing';
    });

    document.addEventListener('mousemove', function(e) {
      if (!zoomed || startX === undefined) return;
      const modalImg = document.getElementById('modalImage');
      const dx = e.clientX - startX, dy = e.clientY - startY;
      modalImg.style.transform = `scale(2) translate(${offsetX + dx}px,${offsetY + dy}px)`;
    });

    document.addEventListener('mouseup', function() {
      if (!zoomed || startX === undefined) return;
      const modalImg = document.getElementById('modalImage');
      offsetX += (event.clientX - startX);
      offsetY += (event.clientY - startY);
      startX = startY = undefined;
      modalImg.style.cursor = 'grab';
    });

    document.getElementById('modalImage').addEventListener('click', toggleZoom);
    document.getElementById('galleryModal').addEventListener('click', closeModal);
    document.getElementById('prevBtn').addEventListener('click', function(e) {
      e.stopPropagation();
      prevImage();
    });
    document.getElementById('nextBtn').addEventListener('click', function(e) {
      e.stopPropagation();
      nextImage();
    });

    document.addEventListener('keydown', function(e) {
      if (!document.getElementById('galleryModal').classList.contains('show')) return;
      if (e.key === 'ArrowRight') nextImage();
      if (e.key === 'ArrowLeft') prevImage();
      if (e.key === 'Escape') closeModal();
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    // Инициализация
    window.onload = function() {
      initGallery();
      document.getElementById('loadMoreBtn').addEventListener('click', loadMoreApartments);
    };
  </script>
</body>
</html>
